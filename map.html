<!DOCTYPE html>
<html>

<head>
    <title></title>

    <script src="three.min.js"></script>
    <script src="utils.js"></script>
    <script src="textures.js"></script>
    <script src="js/orbitcontrols.js"></script>
    <script src="car.js"></script>
    
    <style type="text/css">
        div#canvas-frame {
            border: none;
            cursor: pointer;
            width: 100%;
            height: 600px;
            background-color: #EEEEEE;
        }
    </style>

</head>


<body>
    

    <script>
        // var scene = new THREE.Scene();

        // var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

        // var renderer = new THREE.WebGLRenderer();

        // renderer.setSize(window.innerWidth, window.innerHeight);



        // function buildLightSystem() {
        //     if (!false) {
        //         let directionalLight = new THREE.DirectionalLight(0xffffff, 1.1);
        //         directionalLight.position.set(300, 1000, 500);
        //         directionalLight.target.position.set(0, 0, 0);
        //         directionalLight.castShadow = true;
        //         let d = 300;
        //         directionalLight.shadow.camera = new THREE.OrthographicCamera(-d, d, d, -d, 500, 1600);
        //         directionalLight.shadow.bias = 0.0001;
        //         directionalLight.shadow.mapSize.width = directionalLight.shadow.mapSize.height = 1024;
        //         this.scene.add(directionalLight)
        //         let light = new THREE.AmbientLight(0xffffff, 0.3)
        //         this.scene.add(light)
        //     } else {
        //         let hemisphereLight = new THREE.HemisphereLight(0xffffff, 1)
        //         this.scene.add(hemisphereLight)
        //         let light = new THREE.AmbientLight(0xffffff, 0.15)
        //         this.scene.add(light)
        //     }
        // }

        // function buildRoad() {
        //     let road = new THREE.Object3D()
        //     let roadColor = 0xffffff
        //     let roadBorderOuterCoords = [
        //         [-220, 220],
        //         [220, 220],
        //         [220, -220],
        //         [-220, -220]
        //     ]
        //     let roadBorderOuterHoleCoords = [
        //         [-219, 219],
        //         [-219, -219],
        //         [219, -219],
        //         [219, 219]
        //     ]
        //     let roadBorderOuterShape = utils.makeShape(roadBorderOuterCoords, roadBorderOuterHoleCoords)
        //     let roadBorderOuterGeometry = utils.makeExtrudeGeometry(roadBorderOuterShape, 0.1)
        //     let roadBorderOuter = utils.makeMesh('phong', roadBorderOuterGeometry, roadColor)
        //     road.add(roadBorderOuter)

            
        //     let roadBorderInnerCoords = [
        //         [-131, 131],
        //         [-131, -131],
        //         [131, -131],
        //         [131, 131],
        //         [19, 131],
        //         [19, 99],
        //         [99, 99],
        //         [99, -99],
        //         [-99, -99],
        //         [-99, 99],
        //         [-19, 99],
        //         [-19, 131]
        //     ]
        //     let roadBorderInnerShape = utils.makeShape(roadBorderInnerCoords)
        //     //将一个平面从z拉升
        //     let roadBorderInnnerGeometry = utils.makeExtrudeGeometry(roadBorderInnerShape, 0.1)
        //     //材质
        //     let roadBoaderInnder = utils.makeMesh('phong', roadBorderInnnerGeometry, roadColor)
        //     roadBoaderInnder.rotation.y = Math.PI
        //     road.add(roadBoaderInnder)


        //     let roadLinesGeometry = new THREE.Geometry()
        //     let roadLineGeometry = new THREE.BoxGeometry(20, 0.1, 2)
        //     let roadLinesBottomGeometry = new THREE.Geometry()
        //     for (let i = 0; i < 11; i++) {
        //         let geometry = roadLineGeometry.clone()
        //         geometry.translate(i * 30, -1, -10)
        //         roadLinesBottomGeometry.merge(geometry)
        //     }
            
        //     roadLinesBottomGeometry.translate(-130, 0, 190)
        //     roadLinesGeometry.merge(roadLinesBottomGeometry)

        //     let roadLinesTopGeometry = roadLinesBottomGeometry.clone()
        //     roadLinesTopGeometry.translate(0, 20, -300)

        //     roadLinesGeometry.merge(roadLinesTopGeometry)
        //     let roadLinesLeftGeometry = roadLinesBottomGeometry.clone()

        //     roadLinesLeftGeometry.rotateY(0.5 * Math.PI)
        //     roadLinesGeometry.merge(roadLinesLeftGeometry)

        //     let roadLinesRightGeometry = roadLinesBottomGeometry.clone()
        //     roadLinesRightGeometry.rotateY(-0.5 * Math.PI)

        //     roadLinesGeometry.merge(roadLinesRightGeometry)
        //     roadLinesGeometry = new THREE.BufferGeometry().fromGeometry(roadLinesGeometry)

        //     let roadLines = utils.makeMesh('phong', roadLinesGeometry, roadColor)

        //     road.add(roadLines)


        //     this.scene.add(road)


        //     return road

        // };

        // buildRoad();
        // buildLightSystem();

        // camera.position.z = 5;
        // document.body.appendChild(renderer.domElement);
        // camera.position.set(330, 330, 330)
        // camera.lookAt(scene.position)
        // renderer.render(scene, camera);

        // function render() {

        //     this.width = window.innerWidth
        //     this.height = window.innerHeight
        //     camera.position.set(330, 330, 330)
        //     camera.lookAt(scene.position)


        //     requestAnimationFrame(render);
        //     cube.rotation.x += 0.1;
        //     cube.rotation.y += 0.1;

        //     renderer.shadowMap.enabled = true
        //     renderer.shadowMap.type = THREE.PCFSoftShadowMap


        //     // buildRoad();
        // }
        // render();



    </script>
</body>
<script src="main.js"></script>
</html>